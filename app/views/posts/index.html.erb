<p id="notice"><%= notice %></p>

<div class="container">

  <%= render 'filter' %>

  <% if @posts.empty? %>
    <h3>No result found</h3>
  <% else %>
    <table class="table table-hover table-condensed">
      <thead>
        <tr>
          <th class="center">Preview</th>
          <th class="center" width = "30%">Name</th>
          <th class="center">Open?</th>
          <th class="center">Phone</th>
          <th class="center">Rating</th>
          <th class="center">Location</th>
          <th class="center">User</th>

          <th colspan="3"></th>
        </tr>
      </thead>

      <tbody>
        <% @posts.each do |post| %>
          <tr>
            <td width="11%" height="100px">
              <%= link_to post_path(post) do %>
                <% if post.image.url.nil? %>
                  <%= image_tag 'donut_image.png', class: 'thumbnail' %>
                <% else %>
                  <%= image_tag post.image.url, class: 'thumbnail' %>
                <% end %>
              <% end %>

            </td>
            <td class="center" style="vertical-align: middle"><%= link_to post.name, post %></td>
            <td class="center" style="vertical-align: middle"><%= post.open %></td>
            <td class="center" style="vertical-align: middle"><%= number_to_phone(post.phone, area_code: true) %></td>
            <td class="center" style="vertical-align: middle"><%= post.rating %></td>
            <td class="center" style="vertical-align: middle"><%= post.location %></td>
            <td class="center" style="vertical-align: middle"><%= post.user.name %></td>

    <!--        <td><%= link_to 'Edit', edit_post_path(post) %></td>
            <td><%= link_to 'Destroy', post, method: :delete, data: { confirm: 'Are you sure?' } %></td>
    -->
          </tr>
        <% end %>
      </tbody>
    <% end %>
  </table>

  <br>

  <%= link_to 'New Post', new_post_path %>
  <br />
  <%= will_paginate @posts, renderer: BootstrapPagination::Rails  %>
</div>


<div style='width: 800px;'>
  <div id="map" style='width: 800px; height: 400px;'></div>
</div>
